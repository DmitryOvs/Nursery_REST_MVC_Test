# suppress inspection "SpringBootApplicationProperties" for whole file
# H2 Test Datasource
spring.datasource.url=jdbc:h2:mem:testdb;NON_KEYWORDS=year
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=root
spring.datasource.password=root
spring.sql.init.mode=always
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.h2.console.enabled=true
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
server.servlet.encoding.charset=UTF-8


sql.script.create.table.plant=CREATE TABLE IF NOT EXISTS Plant \
  (id_plant INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY, \
  seedling VARCHAR(50), \
  price_Seedling INT NOT NULL CHECK (price_Seedling > 8 AND price_Seedling <= 20))
sql.script.create.table.variety=CREATE TABLE IF NOT EXISTS Variety\
(id_variety INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,\
name_type VARCHAR(50) NOT NULL,\
year INT NOT NULL CHECK (year >= 2018 AND year <= EXTRACT(year FROM now())),\
quantity INT NOT NULL CHECK (quantity > 0),\
seedling_id INT REFERENCES Plant(id_plant) ON DELETE SET NULL, \
  create_date DATETIME NULL, \
  modify_date DATETIME NULL)
sql.script.add.plants=INSERT INTO Plant(seedling, price_Seedling) \
  VALUES ('\u0041\u0050\u0050\u004c\u0045', 15), ('\u0050\u0045\u0041\u0052', 20), ('\u0041\u0050\u0052\u0049\u0043\u004f\u0054', 15), ('\u0050\u0045\u0041\u0043\u0048', 17)
sql.script.add.varieties=INSERT INTO Variety(name_type, year, quantity, seedling_id) \
  VALUES ('\u041f\u0440\u0438\u043d\u0446', 2021, 10, null), ('\u0425\u0430\u043d\u0438\u0020\u041a\u0440\u0438\u0441\u043f', 2020, 14, 2),\
  ('\u0415\u043b\u0435\u043d\u0430', 2024, 30, 1), ('\u0411\u0440\u0438\u0437', 2023, 30, 1), ('\u0410\u043d\u0442\u043e\u043d\u043e\u0432\u043a\u0430', 2021, 50, 3)
sql.script.drop.table.variety=DROP TABLE IF EXISTS variety
sql.script.drop.table.plant=DROP TABLE IF EXISTS plant

